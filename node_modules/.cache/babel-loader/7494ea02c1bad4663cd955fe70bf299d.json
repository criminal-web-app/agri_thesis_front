{"ast":null,"code":"import _objectSpread from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/cdi_5/agri_thesis_front/src/components/Reports.js\";\nimport React, { Component } from 'react';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport { Row, Col, Button } from 'reactstrap';\nimport { TOAST, DATE, gDp } from '../helpers/helpers';\nimport * as API from '../services/API';\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport moment from 'moment';\nimport Loader from './Loader';\nimport { BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { FaCalendar } from 'react-icons/fa/';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\n\nvar qs = require('query-string');\n\nvar Reports =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Reports, _Component);\n\n  function Reports() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Reports);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Reports)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.urlSearch = qs.parse(_this.props.history.location.search);\n    _this.state = {\n      data: [],\n      report: [],\n      isLoading: true,\n      average_report: [],\n      pageState: {\n        start_date: _this.urlSearch.start_date,\n        end_date: _this.urlSearch.end_date\n      }\n    };\n\n    _this.fetchData = function (id) {\n      var is_average = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (id) {\n        _this.getReport(id);\n      } else {\n        _this.getAverage();\n      }\n    };\n\n    _this.getReport = function (id) {\n      var st = _this.state;\n\n      _this.setState({\n        isLoading: true\n      });\n\n      var params = {\n        start_date: st.pageState.start_date || '',\n        end_date: st.pageState.end_date || ''\n      };\n      !st.pageState.start_date && delete params.start_date;\n      !st.pageState.end_date && delete params.end_date;\n      API.getReport(params, id).then(function (response) {\n        _this.setState({\n          report: response.data\n        });\n      }, function (err) {\n        TOAST.pop({\n          message: err.message,\n          type: 'error'\n        });\n      }).finally(function () {\n        return _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    _this.getAverage = function () {\n      var st = _this.state;\n\n      _this.setState({\n        isLoading: true\n      });\n\n      var params = {\n        start_date: st.pageState.start_date || '',\n        end_date: st.pageState.end_date || ''\n      };\n      !st.pageState.start_date && delete params.start_date;\n      !st.pageState.end_date && delete params.end_date;\n      API.getAverageReports(params).then(function (response) {\n        var report = [_objectSpread({}, response.data, {\n          fw1: response.data.avg_fw1,\n          bw1: response.data.avg_bw1,\n          fw2: response.data.avg_fw2,\n          bw2: response.data.avg_bw2,\n          fw3: response.data.avg_fw3,\n          bw3: response.data.avg_bw3,\n          fw4: response.data.avg_fw4,\n          bw4: response.data.avg_bw4,\n          fw5: response.data.avg_fw5,\n          bw5: response.data.avg_bw5,\n          fw6: response.data.avg_fw6,\n          bw6: response.data.avg_bw6,\n          fw7: response.data.avg_fw7,\n          bw7: response.data.avg_bw7,\n          fw8: response.data.avg_fw8,\n          bw8: response.data.avg_bw8\n        })];\n\n        _this.setState({\n          report: report\n        });\n      }, function (err) {\n        TOAST.pop({\n          message: err.message,\n          type: 'error'\n        });\n      }).finally(function () {\n        return _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    _this.componentDidMount = function () {\n      var id = _this.props.match.params.id;\n\n      _this.setState({\n        isLoading: true\n      });\n\n      API.getReports().then(function (response) {\n        var newData = response.data.filter(function (report, index, self) {\n          return index === self.findIndex(function (t) {\n            return t.activity_id === report.activity_id;\n          });\n        });\n\n        _this.setState({\n          data: newData\n        }); // this.setState({data: response.data})\n\n      }, function (err) {\n        TOAST.pop({\n          message: err.message,\n          type: 'error'\n        });\n      }).finally(function () {\n        _this.setState({\n          isLoading: false\n        });\n\n        _this.fetchData(id);\n      });\n    };\n\n    _this.componentWillReceiveProps = function (newProps) {\n      var id = newProps.match.params.id;\n\n      _this.setState({\n        isLoading: true\n      });\n\n      if (!id) {\n        _this.getAverage();\n      } else {\n        _this.getReport(id);\n      }\n    };\n\n    _this.handleDateRange = function (event, picker) {\n      var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n      var st = _this.state;\n      var id = _this.props.match.params.id;\n\n      _this.setState({\n        pageState: {\n          start_date: picker.startDate.format(DATE.DATE_DASH),\n          end_date: picker.endDate.format(DATE.DATE_DASH)\n        }\n      }, function () {\n        _this.props.history.push(\"?start_date=\".concat(picker.startDate.format(DATE.DATE_DASH), \"&end_date=\").concat(picker.endDate.format(DATE.DATE_DASH)));\n\n        if (id) {\n          _this.fetchData(id, picker.startDate.format(DATE.DATE_DASH));\n        } else {\n          _this.fetchData('', true);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Reports, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var st = this.state;\n      var pr = this.props;\n      var id = this.props.match.params.id;\n      var startDate = gDp(st.pageState, 'start_date') ? moment(gDp(st.pageState, 'start_date'), DATE.DATE_DASH) : '';\n      var endDate = gDp(st.pageState, 'end_date') ? moment(gDp(st.pageState, 'end_date'), DATE.DATE_DASH) : '';\n      var emptyDateCond = startDate === '' && endDate === '';\n      var reports = [React.createElement(Button, {\n        color: !id ? \"primary\" : \"secondary\",\n        style: {\n          width: '100%',\n          marginBottom: '5px'\n        },\n        onClick: function onClick() {\n          return pr.history.push(\"/reports\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Average Report\")];\n      st.data.map(function (report, pos) {\n        return reports.push(React.createElement(Button, {\n          key: report.id,\n          color: id === report.activity_id ? \"primary\" : \"secondary\",\n          style: {\n            width: '100%',\n            marginBottom: '5px'\n          },\n          onClick: function onClick() {\n            return pr.history.push(\"/report/\".concat(report.activity_id));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, report.name));\n      });\n      var data = st.report.length ? [{\n        name: 1,\n        fw: st.report[0].fw1,\n        bw: st.report[0].bw1\n      }, {\n        name: 2,\n        fw: st.report[0].fw2,\n        bw: st.report[0].bw2\n      }, {\n        name: 3,\n        fw: st.report[0].fw3,\n        bw: st.report[0].bw3\n      }, {\n        name: 4,\n        fw: st.report[0].fw4,\n        bw: st.report[0].bw4\n      }, {\n        name: 5,\n        fw: st.report[0].fw5,\n        bw: st.report[0].bw5\n      }, {\n        name: 6,\n        fw: st.report[0].fw6,\n        bw: st.report[0].bw6\n      }, {\n        name: 7,\n        fw: st.report[0].fw7,\n        bw: st.report[0].bw7\n      }, {\n        name: 8,\n        fw: st.report[0].fw8,\n        bw: st.report[0].bw8\n      }] : '';\n      return React.createElement(\"div\", {\n        style: {\n          margin: '0 5% 15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"12\",\n        md: \"3\",\n        style: {\n          overflowY: 'auto',\n          marginBottom: '10px'\n        },\n        className: \"report-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, reports), React.createElement(Col, {\n        sm: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"12\",\n        md: \"4\",\n        lg: \"3\",\n        style: {\n          padding: '0',\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"react-date-range-picker\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(DateRangePicker // opens=\"left\"\n      , Object.assign({}, startDate ? {\n        startDate: startDate\n      } : {}, endDate ? {\n        endDate: endDate\n      } : {}, {\n        ranges: {\n          'This Month': [moment().startOf('month'), moment().endOf('month')],\n          'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\n        },\n        onApply: this.handleDateRange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        className: \"pad-0 react-date-range-input\",\n        size: \"sm\",\n        color: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"btn-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(FaCalendar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), \"\\xA0\"), emptyDateCond ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"All\") : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"\".concat(startDate.format(\"MM/DD/YYYY\"), \" - \").concat(endDate.format(\"MM/DD/YYYY\"))))))), React.createElement(Button, {\n        style: {\n          top: '-2px',\n          right: '5px'\n        },\n        size: \"sm\",\n        className: \"form-control-sm-font-size remove\",\n        color: \"link\",\n        onClick: function onClick(e) {\n          _this2.setState({\n            pageState: {\n              start_date: '',\n              end_date: ''\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \" X \"))))), React.createElement(Col, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          padding: '0 30px'\n        },\n        onClick: function onClick() {\n          return window.open(\"/report/print/\".concat(id ? id : 'average'));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Print Report\"))), React.createElement(ResponsiveContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(BarChart // width={800}\n      // height={300}\n      , {\n        data: data,\n        margin: {\n          top: 30,\n          right: 5,\n          left: 5,\n          bottom: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(XAxis, {\n        dataKey: \"name\",\n        tickSize: true,\n        dy: \"25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }), React.createElement(YAxis, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }), React.createElement(CartesianGrid, {\n        strokeDasharray: \"3 3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }), React.createElement(Tooltip, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), React.createElement(Legend, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }), React.createElement(Bar, {\n        dataKey: \"fw\",\n        fill: \"#8884d8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(Bar, {\n        dataKey: \"bw\",\n        fill: \"#82ca9d\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }))))), React.createElement(Loader, {\n        message: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, \"Loading...\")),\n        isLoading: st.isLoading || false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Reports;\n}(Component);\n\nexport default withRouter(Reports);","map":{"version":3,"sources":["/home/cdi_5/agri_thesis_front/src/components/Reports.js"],"names":["React","Component","withRouter","NavLink","Row","Col","Button","TOAST","DATE","gDp","API","DateRangePicker","moment","Loader","BarChart","Bar","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","FaCalendar","qs","require","Reports","urlSearch","parse","props","history","location","search","state","data","report","isLoading","average_report","pageState","start_date","end_date","fetchData","id","is_average","getReport","getAverage","st","setState","params","then","response","err","pop","message","type","finally","getAverageReports","fw1","avg_fw1","bw1","avg_bw1","fw2","avg_fw2","bw2","avg_bw2","fw3","avg_fw3","bw3","avg_bw3","fw4","avg_fw4","bw4","avg_bw4","fw5","avg_fw5","bw5","avg_bw5","fw6","avg_fw6","bw6","avg_bw6","fw7","avg_fw7","bw7","avg_bw7","fw8","avg_fw8","bw8","avg_bw8","componentDidMount","match","getReports","newData","filter","index","self","findIndex","t","activity_id","componentWillReceiveProps","newProps","handleDateRange","event","picker","that","startDate","format","DATE_DASH","endDate","push","pr","emptyDateCond","reports","width","marginBottom","map","pos","name","length","fw","bw","margin","overflowY","padding","startOf","endOf","subtract","top","right","e","window","open","left","bottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter, NavLink } from 'react-router-dom' \nimport { Row, Col, Button } from 'reactstrap'\nimport { TOAST, DATE, gDp } from '../helpers/helpers'\n\nimport * as API from '../services/API'\nimport DateRangePicker from 'react-bootstrap-daterangepicker'\nimport moment from 'moment';\nimport Loader from './Loader'\n\nimport {\n    BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n} from 'recharts';\n\nimport {FaCalendar} from 'react-icons/fa/'\nimport 'bootstrap-daterangepicker/daterangepicker.css';\n\nconst qs = require('query-string');\nclass Reports extends Component {\n    urlSearch = qs.parse(this.props.history.location.search)\n    state = {\n        data:[],\n        report:[],\n        isLoading: true,\n        average_report: [],\n        pageState: {\n            start_date: this.urlSearch.start_date,\n            end_date: this.urlSearch.end_date\n        },\n    }\n\n    fetchData = (id,is_average=false) => {\n        if(id){\n            this.getReport(id)\n        } else {\n            this.getAverage()\n        }\n    }\n\n    getReport = (id) => {\n        const st = this.state\n        this.setState({isLoading: true})\n        const params = {\n            start_date: st.pageState.start_date || '',\n            end_date: st.pageState.end_date || ''\n        }\n        !st.pageState.start_date && delete params.start_date\n        !st.pageState.end_date && delete params.end_date\n        API.getReport(params,id)\n        .then((response)=>{\n            this.setState({report: response.data})\n        }, err => {\n            TOAST.pop({message: err.message, type: 'error'})\n        }).finally(()=> \n            this.setState({isLoading: false})\n        )\n    }\n\n    getAverage = () => {\n        const st = this.state\n        this.setState({isLoading: true})\n        const params = {\n            start_date: st.pageState.start_date || '',\n            end_date: st.pageState.end_date || ''\n        }\n        !st.pageState.start_date && delete params.start_date\n        !st.pageState.end_date && delete params.end_date\n        API.getAverageReports(params)\n        .then((response)=>{\n            const report = [{...response.data,\n                fw1: response.data.avg_fw1, bw1: response.data.avg_bw1,\n                fw2: response.data.avg_fw2, bw2: response.data.avg_bw2,\n                fw3: response.data.avg_fw3, bw3: response.data.avg_bw3,\n                fw4: response.data.avg_fw4, bw4: response.data.avg_bw4,\n                fw5: response.data.avg_fw5, bw5: response.data.avg_bw5,\n                fw6: response.data.avg_fw6, bw6: response.data.avg_bw6,\n                fw7: response.data.avg_fw7, bw7: response.data.avg_bw7,\n                fw8: response.data.avg_fw8, bw8: response.data.avg_bw8,\n            }]\n            this.setState({report: report})\n        }, err => {\n            TOAST.pop({message: err.message, type: 'error'})\n        }).finally(()=> \n            this.setState({isLoading: false})\n        )\n    }\n\n    componentDidMount = () => {\n        const {id} = this.props.match.params\n        this.setState({isLoading: true})\n        API.getReports()\n        .then((response)=>{\n            const newData = response.data.filter((report,index,self)=>\n                index === self.findIndex((t) => (\n                t.activity_id === report.activity_id\n              ))\n            )\n            this.setState({data: newData})\n            // this.setState({data: response.data})\n        }, err => {\n            TOAST.pop({message: err.message, type: 'error'})\n        }).finally(()=> {\n            this.setState({isLoading: false})\n            this.fetchData(id)\n        })\n    }\n\n    componentWillReceiveProps = (newProps) => {\n        const {id} = newProps.match.params\n        this.setState({isLoading: true})\n        if(!id) {\n            this.getAverage()\n        } else {\n            this.getReport(id)\n        }\n    }\n\n    handleDateRange = (event, picker) => {\n        const that = this\n        const st = this.state\n        const {id} = this.props.match.params\n        this.setState({\n            pageState: {\n                start_date: picker.startDate.format(DATE.DATE_DASH),\n                end_date: picker.endDate.format(DATE.DATE_DASH)\n            }\n            },()=> {\n                this.props.history.push(`?start_date=${picker.startDate.format(DATE.DATE_DASH)}&end_date=${picker.endDate.format(DATE.DATE_DASH)}`)\n                if(id){\n                    this.fetchData(id, picker.startDate.format(DATE.DATE_DASH))\n                } else {\n                    this.fetchData('', true)\n                }\n            })\n    }\n\n    render() {\n        const st= this.state\n        const pr = this.props\n        const {id} = this.props.match.params\n        const startDate = gDp(st.pageState,'start_date') ? moment(gDp(st.pageState,'start_date'),DATE.DATE_DASH) : ''\n        const endDate = gDp(st.pageState,'end_date') ? moment(gDp(st.pageState,'end_date'),DATE.DATE_DASH) : ''\n        const emptyDateCond = startDate==='' && endDate ===''\n\n        const reports = [\n            <Button color={!id ? \"primary\" : \"secondary\"} style={{width: '100%', marginBottom: '5px'}}\n                onClick={()=>pr.history.push(`/reports`)}>\n                Average Report\n            </Button>\n        ]\n        st.data.map((report, pos)=> \n            reports.push(\n            <Button key={report.id} color={id===report.activity_id ? \"primary\" : \"secondary\"} style={{width: '100%', marginBottom: '5px'}}\n                onClick={()=>pr.history.push(`/report/${report.activity_id}`)}>\n                {report.name}\n            </Button>\n        ))\n        const data = st.report.length ? [\n            {\n                name: 1, fw: st.report[0].fw1, bw: st.report[0].bw1\n            },\n            {\n                name: 2, fw: st.report[0].fw2, bw: st.report[0].bw2\n            },\n            {\n                name: 3, fw: st.report[0].fw3, bw: st.report[0].bw3\n            },\n            {\n                name: 4, fw: st.report[0].fw4, bw: st.report[0].bw4\n            },\n            {\n                name: 5, fw: st.report[0].fw5, bw: st.report[0].bw5\n            },\n            {\n                name: 6, fw: st.report[0].fw6, bw: st.report[0].bw6\n            },\n            {\n                name: 7, fw: st.report[0].fw7, bw: st.report[0].bw7\n            },\n            {\n                name: 8, fw: st.report[0].fw8, bw: st.report[0].bw8\n            },\n        ] : ''\n        return (\n            <div style={{margin: '0 5% 15px'}}> \n                <Row>\n                    <Col sm=\"12\" md=\"3\" style={{overflowY:'auto', marginBottom: '10px'}} className=\"report-buttons\">\n                        {reports}\n                    </Col>\n                    <Col sm=\"12\" md=\"9\">\n                        <Row>\n                            <Col sm=\"12\" md=\"4\" lg=\"3\" style={{padding: '0', marginBottom: '10px'}}>\n                                <div>\n                                    <div className=\"react-date-range-picker\">\n                                        <DateRangePicker\n                                            // opens=\"left\"\n                                            {...(startDate) ? {startDate} : {}}\n                                            {...(endDate) ? {endDate} : {}}\n                                            ranges={{\n                                                'This Month': [moment().startOf('month'), moment().endOf('month')],\n                                                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\n                                            }}\n                                            onApply={this.handleDateRange}\n                                            >\n                                            <div>\n                                                <Button type=\"button\" className=\"pad-0 react-date-range-input\" size='sm' color=\"link\">\n                                                    <i className=\"btn-icon\">\n                                                        <FaCalendar/>&nbsp;\n                                                    </i>\n                                                    {\n                                                        emptyDateCond ? (\n                                                            <span>All</span>\n                                                        ) :\n                                                        (\n                                                            <span>\n                                                                <span>{`${startDate.format(\"MM/DD/YYYY\")} - ${endDate.format(\"MM/DD/YYYY\")}`}</span>\n                                                            </span>\n\n                                                        )\n                                                    }\n                                                </Button>\n                                            </div>\n                                        </DateRangePicker>\n                                        <Button style={{top:'-2px', right:'5px'}} size=\"sm\" className=\"form-control-sm-font-size remove\" color=\"link\" onClick={(e)=>{\n                                            this.setState({\n                                                pageState: {\n                                                    start_date: '',end_date: ''\n                                                }\n                                            })\n                                            }\n                                        }\n                                        >\n                                            <strong> X </strong>\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Col>\n                            <Col align=\"right\">\n                                <Button style={{padding: '0 30px'}} onClick={()=>window.open(`/report/print/${id? id: 'average'}`)}>\n                                    Print Report\n                                </Button>\n                            </Col>\n                        </Row>\n                        <ResponsiveContainer>\n                            <BarChart\n                                // width={800}\n                                // height={300}\n                                data={data}\n                                margin={{\n                                top: 30, right: 5, left: 5, bottom: 5,\n                                }}\n                            >\n                                <XAxis dataKey=\"name\" tickSize\n                                    dy='25'/>\n                                <YAxis />\n                                <CartesianGrid strokeDasharray=\"3 3\" />\n                                <Tooltip />\n                                <Legend />\n                                <Bar dataKey=\"fw\" fill=\"#8884d8\"></Bar>\n                                <Bar dataKey=\"bw\" fill=\"#82ca9d\"/>\n                            </BarChart>\n                        </ResponsiveContainer>\n                    </Col>\n                </Row>\n                \n                <Loader\n                    message={(\n                        <div>\n                            {/* <h4>Fetching reports</h4> */}\n                            <p>Loading...</p>\n                        </div>\n                    )}\n                    isLoading={st.isLoading || false}\n                />\n            </div>\n        ) ;\n    }\n}\n\nexport default withRouter(Reports);"]},"metadata":{},"sourceType":"module"}