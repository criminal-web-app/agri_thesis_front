{"ast":null,"code":"import _classCallCheck from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cdi_5/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cdi_5/agri_thesis_front/src/components/OrderDetails.js\";\nimport React, { Component } from 'react';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport { Row, Col, Button } from 'reactstrap';\nimport ReactTable from 'react-table';\nimport * as API from '../services/API';\nimport * as Session from '../services/session';\nimport { Helpers, lS, DefaultState, TOAST, OPTIONS, gDp, DATE_FORMAT } from '../helpers/helpers';\nimport SearchBar from './SearchBar.js';\nimport ConfirmModal from '../modals/ConfirmModal';\nimport { FaTrashAlt, FaEdit } from 'react-icons/fa/';\nimport { IoIosArrowDropleftCircle } from 'react-icons/io/';\nimport Loader from './Loader';\n\nvar qs = require('query-string'); // React table ref: https://react-table.js.org/#/story/readme\n\n\nvar OrderDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OrderDetails, _Component);\n\n  function OrderDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OrderDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OrderDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.urlSearch = qs.parse(_this.props.history.location.search);\n    _this.state = {\n      data: [],\n      isLoading: true\n    };\n    _this.prevColumn = _this.state.columns || {};\n\n    _this.toggleLoading = function (flag) {\n      _this.setState(function (oldState) {\n        return {\n          searchLoading: flag\n        };\n      });\n    };\n\n    _this.toggleButton = function (path) {\n      _this.props.history.push(path);\n    };\n\n    _this.componentDidMount = function () {\n      _this.apiRetrieve();\n    };\n\n    _this.apiRetrieve = function () {\n      var id = _this.props.match.params.id;\n      API.getOrder(id).then(function (response) {\n        _this.setState({\n          data: response.data\n        });\n      }, function (err) {\n        TOAST.pop({\n          message: err.message,\n          type: 'error'\n        });\n      }).finally(function () {\n        return _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(OrderDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var that = this;\n      var st = this.state;\n      var original = st.selected || {};\n      var data = this.state.data;\n      return React.createElement(\"div\", {\n        style: {\n          margin: '0 5% 15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pad-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"lead\",\n        onClick: function onClick() {\n          return _this2.props.history.goBack();\n        },\n        style: {\n          paddingLeft: '15px',\n          marginTop: '1rem',\n          color: '#374144',\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(IoIosArrowDropleftCircle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), \" Back\"), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"margin-bottom-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: '10px',\n          borderBottom: '1px solid rgb(150,150,150,0.5)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          marginBottom: '2px',\n          fontSize: '18px',\n          fontWeight: '700'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, gDp(data, 'first_name', ''), \" \", gDp(data, 'last_name', '')), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"\\xA0\", \"<\".concat(gDp(data, 'email', ''), \">\"))), React.createElement(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, gDp(data, 'message', ''))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Button, {\n        name: \"complete_order\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.completeOrder();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Complete Order\"))), React.createElement(Loader, {\n        message: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Loading...\")),\n        isLoading: st.isLoading || false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return OrderDetails;\n}(Component);\n\nexport default withRouter(OrderDetails);","map":{"version":3,"sources":["/home/cdi_5/agri_thesis_front/src/components/OrderDetails.js"],"names":["React","Component","withRouter","NavLink","Row","Col","Button","ReactTable","API","Session","Helpers","lS","DefaultState","TOAST","OPTIONS","gDp","DATE_FORMAT","SearchBar","ConfirmModal","FaTrashAlt","FaEdit","IoIosArrowDropleftCircle","Loader","qs","require","OrderDetails","urlSearch","parse","props","history","location","search","state","data","isLoading","prevColumn","columns","toggleLoading","flag","setState","oldState","searchLoading","toggleButton","path","push","componentDidMount","apiRetrieve","id","match","params","getOrder","then","response","err","pop","message","type","finally","that","st","original","selected","margin","goBack","paddingLeft","marginTop","color","cursor","marginBottom","borderBottom","fontSize","fontWeight","completeOrder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter, NavLink } from 'react-router-dom' \nimport { Row, Col, Button } from 'reactstrap'\nimport ReactTable from 'react-table'\n\nimport * as API from '../services/API'\nimport * as Session from '../services/session'\n\nimport { Helpers, lS, DefaultState, TOAST, OPTIONS, gDp, DATE_FORMAT  } from '../helpers/helpers'\n\nimport SearchBar from './SearchBar.js'\nimport ConfirmModal from '../modals/ConfirmModal'\n\nimport {FaTrashAlt, FaEdit} from 'react-icons/fa/'\nimport { IoIosArrowDropleftCircle } from 'react-icons/io/'\nimport Loader from './Loader'\n\nconst qs = require('query-string');\n\n// React table ref: https://react-table.js.org/#/story/readme\n\nclass OrderDetails extends Component {\n    urlSearch = qs.parse(this.props.history.location.search)\n    state = {\n        data: [],\n        isLoading: true\n    }\n\n    prevColumn = this.state.columns || {}\n\n    toggleLoading = (flag) => {\n        this.setState(oldState => ({searchLoading: flag}))\n    }\n    toggleButton = (path) => {\n        this.props.history.push(path)\n    }\n\n    componentDidMount = () => {\n        this.apiRetrieve()\n    }\n\n    apiRetrieve = () => {\n        const {id} = this.props.match.params\n        API.getOrder(id)\n        .then((response)=> {this.setState({data: response.data})\n        }, err => {\n            TOAST.pop({message: err.message, type: 'error'})\n        }).finally(()=> this.setState({isLoading: false}))\n    }\n\n    render() {\n        const that = this\n        const st=this.state;\n        const original = st.selected || {}\n        const {data} = this.state\n        return (\n            <div style={{margin: '0 5% 15px'}}> \n                <div className=\"pad-md\">\n                    <label \n                        className=\"lead\"\n                        onClick={()=>this.props.history.goBack()}\n                        style={{\n                            paddingLeft: '15px',\n                            marginTop: '1rem',\n                            color: '#374144',\n                            cursor: 'pointer',\n                        }} > \n                        <IoIosArrowDropleftCircle  /> Back \n                        {/* <Button \n                            color=\"primary\" \n                            onClick={this.goBack} \n                            style={{ \n                                position: 'absolute',\n                                top: '126px'\n                            }}>Go back</Button> */}\n                    </label>\n                    <Row>\n                        <Col className=\"margin-bottom-md\">\n                            <div  style={{marginBottom: '10px', borderBottom: '1px solid rgb(150,150,150,0.5)'}}>\n                                <div>\n                                    <span style={{marginBottom: '2px', fontSize: '18px', fontWeight: '700'}}>{gDp(data,'first_name', '')} {gDp(data,'last_name','')}</span>\n                                    <span>&nbsp;{`<${gDp(data,'email','')}>`}</span>\n                                </div>\n                                <div style={{marginTop: '20px'}}>{gDp(data,'message','')}</div>\n                            </div>\n                        </Col>\n                    </Row>\n                    <br/>\n                    <Row>\n                        <Button name=\"complete_order\" color=\"primary\" onClick={()=>this.completeOrder()}>Complete Order</Button>\n                    </Row>\n                </div>\n                <Loader\n                    message={(\n                        <div>\n                            {/* <h4>Fetching reports</h4> */}\n                            <p>Loading...</p>\n                        </div>\n                    )}\n                    isLoading={st.isLoading || false}\n                />\n            </div>\n        ) ;\n    }\n}\n\nexport default withRouter(OrderDetails);"]},"metadata":{},"sourceType":"module"}