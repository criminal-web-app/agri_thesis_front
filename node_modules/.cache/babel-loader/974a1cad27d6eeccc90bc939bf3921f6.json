{"ast":null,"code":"import _classCallCheck from \"/home/cdi_5/Downloads/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cdi_5/Downloads/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cdi_5/Downloads/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cdi_5/Downloads/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cdi_5/Downloads/agri_thesis_front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cdi_5/Downloads/agri_thesis_front/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport '../styles/Login.css';\nimport { Form, FormGroup, Input, Row, Col, FormFeedback, Button } from 'reactstrap';\nimport * as API from '../services/API';\nimport * as Session from '../services/session';\nimport serializeForm from 'form-serialize';\nimport { SyncLoader } from 'react-spinners';\nimport { TOAST } from '../helpers/helpers';\nimport { FaKey, FaUser } from 'react-icons/fa'; // import Loader from 'components/Loader'\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      onLogin: true,\n      isInvalid: false,\n      isEmailInvalid: false,\n      errorMessage: null,\n      errorMessageClass: \"\",\n      isLoading: false,\n      has_token: false // LOGIN METHODS\n\n    };\n\n    _this.handleLogin = function (e) {\n      var that = _this.props.that;\n      e.preventDefault();\n      var values = serializeForm(e.target, {\n        hash: true\n      });\n\n      _this.setState({\n        isLoading: true\n      });\n\n      API.login(values).then(function (response) {\n        var role = response.data.role || '';\n\n        if (role.toLowerCase() !== 'admin') {\n          _this.setState({\n            isInvalid: true,\n            errorMessage: 'Must be an admin to log in.'\n          });\n        } else {\n          Session.saveUser(response.data);\n          that.setState({\n            dropdownOpen: false,\n            has_token: true\n          });\n\n          _this.setState({\n            has_token: true\n          }, function () {\n            return _this.props.history.push('/');\n          });\n        }\n      }, function (err) {\n        _this.setState({\n          isInvalid: true,\n          errorMessage: err.message\n        });\n      }).finally(function () {\n        _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    _this.handleLogOut = function () {\n      var that = _this.props.that;\n      API.logout() // this.setState({isLoading: true})\n      .then(function (response) {\n        Session.removeUser();\n\n        _this.setState({\n          has_token: false\n        });\n\n        that.setState({\n          dropdownOpen: false,\n          has_token: false\n        });\n\n        _this.props.history.push('/');\n      }, function (err) {\n        TOAST.pop({\n          message: err.message,\n          type: 'error'\n        });\n      }).finally(function () {\n        _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        has_token: !!Session.getToken()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          isInvalid = _this$state.isInvalid,\n          errorMessage = _this$state.errorMessage,\n          isLoading = _this$state.isLoading,\n          has_token = _this$state.has_token; // const has_token = Session.getToken()\n\n      var user = Session.getUser();\n      var that = this.props.that;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, !has_token ? React.createElement(Form, {\n        className: \"formClass\",\n        onSubmit: function onSubmit(e) {\n          return _this2.handleLogin(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          paddingLeft: '15px',\n          paddingRight: '15px',\n          marginBottom: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"username\",\n        className: \"details\",\n        placeholder: \"username\",\n        type: \"text\",\n        invalid: isInvalid,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"mbot-xs-10\",\n        style: {\n          paddingLeft: '15px',\n          paddingRight: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"password\",\n        className: \"details\",\n        placeholder: \"password\",\n        type: \"password\",\n        invalid: isInvalid,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(FormFeedback, {\n        className: \"text-capitalize feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, errorMessage)), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Col, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        color: \"info\",\n        className: \"mbot-xs-10\",\n        style: {\n          float: 'right'\n        },\n        disabled: isLoading // onClick={(e)=>this.handleLogin(e)}\n        // size={10}\n        // block={true}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, isLoading ? React.createElement(SyncLoader // color='#f92d16'\n      , {\n        loading: isLoading,\n        size: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }) : 'Login')))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Col, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"info\",\n        onClick: function onClick() {\n          return _this2.props.that.setState({\n            isChangePassModalOpen: true\n          });\n        },\n        style: {\n          padding: '1px 6px',\n          width: '100%',\n          marginBottom: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Change Password\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Col, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"danger\",\n        onClick: function onClick() {\n          return _this2.handleLogOut();\n        },\n        style: {\n          padding: '1px 6px',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, isLoading ? React.createElement(SyncLoader, {\n        color: \"#f92d16\",\n        loading: isLoading,\n        size: 8,\n        style: {\n          height: '8px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }) : 'Log out')))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/home/cdi_5/Downloads/agri_thesis_front/src/components/Login.js"],"names":["React","Component","withRouter","Redirect","Form","FormGroup","Input","Row","Col","FormFeedback","Button","API","Session","serializeForm","SyncLoader","TOAST","FaKey","FaUser","Login","state","onLogin","isInvalid","isEmailInvalid","errorMessage","errorMessageClass","isLoading","has_token","handleLogin","e","that","props","preventDefault","values","target","hash","setState","login","then","response","role","data","toLowerCase","saveUser","dropdownOpen","history","push","err","message","finally","handleLogOut","logout","removeUser","pop","type","getToken","user","getUser","paddingLeft","paddingRight","marginBottom","float","isChangePassModalOpen","padding","width","height"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\n\r\nimport '../styles/Login.css'\r\nimport { Form, FormGroup, Input, Row, Col, FormFeedback, Button } from 'reactstrap'\r\n\r\nimport * as API from '../services/API'\r\nimport * as Session from '../services/session'\r\n\r\nimport serializeForm from 'form-serialize'\r\nimport { SyncLoader } from 'react-spinners'\r\nimport { TOAST } from '../helpers/helpers';\r\nimport { FaKey, FaUser } from 'react-icons/fa'\r\n// import Loader from 'components/Loader'\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        onLogin: true,\r\n        isInvalid: false,\r\n        isEmailInvalid: false,\r\n        errorMessage: null,\r\n        errorMessageClass:\"\",\r\n        isLoading: false,\r\n        has_token: false\r\n    }\r\n    // LOGIN METHODS\r\n    handleLogin = (e) => {\r\n        const {that} = this.props\r\n        e.preventDefault()\r\n        const values = serializeForm(e.target, { hash: true })\r\n        this.setState({isLoading: true})\r\n        API.login(values)\r\n        .then((response)=>{\r\n            const role = response.data.role || ''\r\n            if(role.toLowerCase()!=='admin'){\r\n                this.setState({\r\n                    isInvalid: true,\r\n                    errorMessage: 'Must be an admin to log in.'\r\n                })\r\n            } else {\r\n                Session.saveUser(response.data)\r\n                that.setState({dropdownOpen: false, has_token: true})\r\n                this.setState({has_token: true},()=>this.props.history.push('/'))\r\n            }\r\n        },err => {\r\n            this.setState({\r\n                isInvalid: true,\r\n                errorMessage: err.message\r\n            })\r\n        }).finally(()=> {\r\n            this.setState({isLoading: false})\r\n        })\r\n    }\r\n\r\n    handleLogOut = () => {\r\n        const {that} = this.props\r\n        API.logout()\r\n        // this.setState({isLoading: true})\r\n        .then((response)=> {\r\n            Session.removeUser()\r\n            this.setState({has_token: false})\r\n            that.setState({dropdownOpen: false, has_token: false})\r\n            this.props.history.push('/')\r\n        },err =>{\r\n            TOAST.pop({message: err.message, type: 'error'})\r\n        }).finally(()=> {\r\n            this.setState({isLoading: false})\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState({has_token: !!Session.getToken()})\r\n    }\r\n\r\n    render() {\r\n        const { isInvalid, errorMessage, isLoading, has_token } = this.state\r\n        // const has_token = Session.getToken()\r\n        const user = Session.getUser()\r\n        const {that} = this.props\r\n        return ( \r\n            <div>\r\n                {!has_token ? \r\n                    <Form className=\"formClass\"\r\n                        onSubmit={(e)=>this.handleLogin(e)}>\r\n                        <div style={{paddingLeft: '15px', paddingRight: '15px', marginBottom: '5px'}}>\r\n                            <Input \r\n                                name=\"username\"\r\n                                className=\"details\"\r\n                                placeholder=\"username\"\r\n                                type=\"text\"\r\n                                invalid={isInvalid}\r\n                                required \r\n                            />\r\n                        </div>\r\n                        <div className=\"mbot-xs-10\" style={{paddingLeft: '15px', paddingRight: '15px'}}>\r\n                            <Input \r\n                                name=\"password\"\r\n                                className=\"details\"\r\n                                placeholder=\"password\"\r\n                                type=\"password\"\r\n                                invalid={isInvalid}\r\n                                required\r\n                            />\r\n                            <FormFeedback className=\"text-capitalize feedback\">{errorMessage}</FormFeedback>\r\n                        </div>\r\n                        <Row>\r\n                            <Col align=\"right\">\r\n                                <Button type=\"submit\"\r\n                                    color=\"info\"\r\n                                    className=\"mbot-xs-10\"\r\n                                    style={{float: 'right'}}\r\n                                    disabled={isLoading}\r\n                                    // onClick={(e)=>this.handleLogin(e)}\r\n                                    // size={10}\r\n                                    // block={true}\r\n                                >\r\n                                    {isLoading ? <SyncLoader\r\n                                        // color='#f92d16'\r\n                                        loading={isLoading} \r\n                                        size={4}\r\n                                    /> : 'Login'}\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                    :\r\n                    <div>\r\n                        <Row>\r\n                            <Col align=\"right\" >\r\n                                <Button color=\"info\" \r\n                                        onClick={()=> this.props.that.setState({isChangePassModalOpen: true})}\r\n                                        style={{padding: '1px 6px', width: '100%', marginBottom: '5px'}}>\r\n                                    Change Password\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col align=\"right\">\r\n                                <Button color=\"danger\" \r\n                                        onClick={()=>this.handleLogOut()} \r\n                                        style={{padding: '1px 6px', width: '100%'}}>\r\n                                    {isLoading ? <SyncLoader\r\n                                        color='#f92d16'\r\n                                        loading={isLoading} \r\n                                        size={8}\r\n                                        style={{\r\n                                            height: '8px'\r\n                                        }}\r\n                                    /> : 'Log out'}\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                }\r\n            </div>                \r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}